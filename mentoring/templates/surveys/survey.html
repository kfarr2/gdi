{% extends 'base.html' %}

{% block page_title %}Welcome{% endblock %}

{% block content %}
<div class="survey">
<form method="post" action="">
    {% if form.errors %}
        <p class="error">Please answer every question.</p> 
    {% endif %}
    {% csrf_token %}
    {% for field in form.questionFields %}
        <div id="question_{{ field.question.pk }}" class="question-block">
            {% if field.question.type == Question.HEADING %}
                {% include 'surveys/_heading.html' %}
            {% elif field.question.type == Question.CHECKBOX %}
                {% include 'surveys/_choice.html' %}
            {% elif field.question.type == Question.RADIO %}
                {% include 'surveys/_choice.html' %}
            {% elif field.question.type == Question.SELECT %}
                {% include 'surveys/_field.html' %}
            {% elif field.question.type == Question.LIKERT %}
                {% include 'surveys/_likert.html' %}
            {% elif field.question.type == Question.TEXTAREA %}
                {% include 'surveys/_field.html' %}
            {% elif field.question.type == Question.TEXTBOX %}
                {% include 'surveys/_field.html' %}
            {% elif field.question.type == Question.SELECT_MULTIPLE %}
                {% include 'surveys/_field.html' %}
            {% else %}
                <h1>FAIL {{ field }}</h1>
            {% endif %}
        </div>
            
    {% endfor %}
    <input type="submit" name="submit" value="Submit" class="submit" />
</form>
</div>
<script type="text/javascript">
$(document).ready(function(){
    $('.likert-option').click(function(e){
        var input = $(this).find('input');
        input.prop("checked", true);
    });
});
</script>
{% endblock %}

